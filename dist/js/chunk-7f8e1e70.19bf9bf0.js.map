{"version":3,"sources":["webpack:///./src/views/home/SongComment.vue","webpack:///./src/views/home/SongComment.vue?b4ef","webpack:///./src/views/home/SongComment.vue?b34e"],"names":["class","style","$store","state","theme","music_information","length","src","music_image","alt","music_name","music_singer","ref","comment_height","Comment-data","music_comment","comment_key","push_user_comment","color","name","components","UserComment","Reply","Back","Album_img","reply_content","Single_review","account_name","account_img","methods","console","log","this","h","document","documentElement","clientHeight","data","time","Date","unshift","user_image","user_name","user_time","user_comment","liked","id","$route","params","Promise","all","api_url","cookie","user_cookie","then","res","splice","comments","i","push","user","nickname","content","avatarUrl","profile","catch","err","type","play_music_information","render","__scopeId"],"mappings":"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","file":"js/chunk-7f8e1e70.19bf9bf0.js","sourcesContent":["<template>\r\n    <div class=\"Comment\" :class=\"[$store.state.theme == 'night' ? 'Comment_night':'']\">\r\n        <div class=\"title\" :class=\"[$store.state.theme == 'night' ? 'title_night':'']\">\r\n            <span>评论</span>\r\n        </div>\r\n        <div class=\"Placeholder\"></div>\r\n        <!--        歌曲信息-->\r\n        <div class=\"song_singer_box\" :class=\"[$store.state.theme == 'night' ? 'song_singer_box_night':'']\" v-if=\"music_information.length>0\">\r\n            <img :src=\"music_information[0].music_image\" alt=\"\" class=\"Album_img\">\r\n            <div class=\"song_singer_span\">\r\n                <span class=\"song_name\">{{ music_information[0].music_name }}</span>\r\n                <span class=\"singer_name\">{{ music_information[0].music_singer }}</span>\r\n            </div>\r\n        </div>\r\n        <!--        评论-->\r\n        <div class=\"Comment_height\" ref=\"Comment_height\" :style=\"{height:comment_height}\">\r\n            <div class=\"title_small\" :class=\"[$store.state.theme == 'night' ? 'title_small_night':'']\">\r\n                <span>精彩评论</span>\r\n            </div>\r\n            <div style=\"width: 100%;height: 100%;overflow-y: auto\">\r\n                <UserComment :Comment-data=\"music_comment\"></UserComment>\r\n            </div>\r\n        </div>\r\n        <!--        回复-->\r\n        <div class=\"reply_box\">\r\n            <Reply :comment_key=\"comment_key\" @push_user_comment=\"push_user_comment\"></Reply>\r\n        </div>\r\n        <div class=\"Placeholder\" style=\"background-color: white\" v-if=\"$store.state.theme == 'white'\"></div>\r\n        <div class=\"Placeholder\" style=\"background-color: #222225\" v-if=\"$store.state.theme == 'night'\"></div>\r\n\r\n        <div style=\"position: fixed; top:3.5rem;left:1rem;z-index: 9\">\r\n            <Back :color=\"1\"></Back>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Back from '../../components/menu/Back'\r\n    import UserComment from \"../../components/home/UserComment\";\r\n    import Reply from '../../components/Reply'\r\n    import ajax from '../../http/index'\r\n    export default {\r\n        name: \"Comment\",\r\n        components: {UserComment,Reply,Back},\r\n\r\n        data() {\r\n            return{\r\n                Album_img: 'imgg.jpg',\r\n                reply_content: '',\r\n                Single_review:[],\r\n                music_comment:[],\r\n                music_information:[],\r\n                comment_key:[],\r\n                account_name:'',\r\n                account_img:''\r\n                // comment_height:(document.documentElement.clientHeight - (7.25*16))\r\n            }\r\n        },\r\n        methods:{\r\n            kk(){\r\n                console.log(this.music_information )\r\n            },\r\n            touchmove(){\r\n                var h = document.documentElement.clientHeight\r\n                console.log(h)\r\n                // console.log(this.$refs.Comment_height.getBoundingClientRect().top)\r\n            },\r\n            //评论歌曲\r\n            push_user_comment(data){\r\n                let time = new Date();\r\n                this.music_comment.unshift({\r\n                    user_image:this.account_img,\r\n                    user_name:this.account_name,\r\n                    user_time:time,\r\n                    user_comment:data,\r\n                    liked:false\r\n\r\n                })\r\n            }\r\n        },\r\n        mounted() {\r\n            let id = this.$route.params.id\r\n\r\n            Promise.all([\r\n                ajax(this.$store.state.api_url+'comment/music?id='+id),\r\n                ajax(this.$store.state.api_url+'user/account', {cookie:this.$store.state.user_cookie})\r\n            ]).then((res)=>{\r\n\r\n                this.music_comment.splice(0,this.music_comment.length)\r\n                if (res[0].comments.length!=null){\r\n                    for (let i = 0; i<res[0].comments.length;i++){\r\n                        this.music_comment.push({\r\n                            user_name:res[0].comments[i].user.nickname,\r\n                            user_comment:res[0].comments[i].content,\r\n                            user_image:res[0].comments[i].user.avatarUrl,\r\n                            user_time:res[0].comments[i].time,\r\n                            liked:false\r\n                        })\r\n                    }\r\n                }\r\n\r\n\r\n                //用户详情\r\n                this.account_name = res[1].profile.nickname\r\n                this.account_img = res[1].profile.avatarUrl\r\n            }).catch((err)=>{\r\n                console.log(err);\r\n            })\r\n\r\n\r\n            // ajax(\r\n            //     // 'http://127.0.0.1:3000/comment/music?id='+id\r\n            //     this.$store.state.api_url+'comment/music?id='+id\r\n            // ).then((res)=>{\r\n            //     this.music_comment.splice(0,this.music_comment.length)\r\n            //     if (res.comments.length!=null){\r\n            //         for (let i = 0; i<res.comments.length;i++){\r\n            //             this.music_comment.push({\r\n            //                 user_name:res.comments[i].user.nickname,\r\n            //                 user_comment:res.comments[i].content,\r\n            //                 user_image:res.comments[i].user.avatarUrl,\r\n            //                 user_time:res.comments[i].time,\r\n            //                 liked:false\r\n            //             })\r\n            //         }\r\n            //     }\r\n            //\r\n            // }).catch((error)=>{\r\n            //     console.log(error)\r\n            // })\r\n            this.comment_key = ({type:0,id:id})\r\n            this.music_information = this.$store.state.play_music_information\r\n            console.log(this.music_comment)\r\n        },\r\n        setup(){\r\n            const comment_height = document.documentElement.clientHeight - (10.25*16)+'px'\r\n            return{\r\n                comment_height\r\n            }\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .Comment{\r\n        position: absolute;\r\n        top: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow-x: hidden;\r\n        overflow-y: scroll;\r\n        background-color: #F8F8F8;\r\n    }\r\n    .Comment::-webkit-scrollbar{\r\n        display: none;\r\n    }\r\n    .title{\r\n        position: fixed;\r\n        top: 0;\r\n        width: 100%;\r\n        height: 6rem;\r\n        background-color: white;\r\n        font-size: 21px;\r\n        display: flex;\r\n        justify-content: center;\r\n        z-index: 1;\r\n        font-weight: bold;\r\n\r\n    }\r\n    .title span{\r\n        margin-top: 2.75rem;\r\n    }\r\n    .song_singer_box{\r\n        display: flex;\r\n        align-items: center;\r\n        width: 100%;\r\n        height: 7.25rem;\r\n        background-color: white;\r\n\r\n    }\r\n    .Album_img{\r\n        width: 3.5rem;\r\n        height: 3.5rem;\r\n        border-radius: 0.5rem;\r\n        margin-left: 1rem;\r\n        margin-right: 0.75rem;\r\n    }\r\n    .song_singer_span{\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n    }\r\n    .song_name{\r\n\r\n    }\r\n    .singer_name{\r\n        font-size: 13px;\r\n    }\r\n    .title_small{\r\n        width: 100%;\r\n        height: 4rem;\r\n        display: flex;\r\n        align-items: center;\r\n        background-color: white;\r\n        margin-top: 1rem;\r\n    }\r\n    .title_small span{\r\n        margin-left: 1rem;\r\n        font-size: 18px;\r\n    }\r\n    .user_comment_data{\r\n        width: 100%;\r\n        margin-bottom: 2rem;\r\n        border-bottom: 2px solid #f4f4f4;\r\n    }\r\n    .comment_user{\r\n        display: flex;\r\n        height: 2rem;\r\n        align-items: center;\r\n    }\r\n    .user_img{\r\n        width: 1.75rem;\r\n        height: 1.75rem;\r\n        border-radius: 1.75rem;\r\n        margin-left: 1rem;\r\n    }\r\n    .user_material{\r\n        display: flex;\r\n        flex-direction: column;\r\n        margin-left: 1rem;\r\n    }\r\n    .user_name{\r\n        font-size: 15px;\r\n    }\r\n    .response_time{\r\n        font-size: 10px;\r\n        color: darkgray;\r\n    }\r\n    .praised{\r\n        margin-left: 10rem;\r\n    }\r\n    .comment_content{\r\n        width: 16.5rem;\r\n        height: auto;\r\n        margin-top: 1rem;\r\n        margin-left: 3.75rem;\r\n    }\r\n    .comment_content p{\r\n        word-wrap: break-word;\r\n    }\r\n    .reply_box{\r\n        position: fixed;\r\n        left: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        height:4.75rem;\r\n        z-index: 1000;\r\n    }\r\n    .reply{\r\n        width: 100%;\r\n        height: 3.5rem;\r\n        background-color: white;\r\n        display: flex;\r\n        justify-content: space-evenly;\r\n        margin-top: 0.5rem;\r\n    }\r\n    .reply_content{\r\n        width: 14.5rem;\r\n        height: 1.75rem;\r\n        border-radius: 1rem;\r\n        font-size: 18px;\r\n        border: 1px solid black;\r\n    }\r\n    input:focus{\r\n        outline: none;\r\n        border-color: #409eff;\r\n    }\r\n    .send{\r\n        width: 3rem;\r\n        height: 1.75rem;\r\n        border-radius: 1rem;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n    .send span {\r\n\r\n    }\r\n    .Comment_height{\r\n        width: 100%;\r\n        /*height: 80%;*/\r\n        overflow-x: hidden;\r\n        overflow-y: scroll;\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n\r\n\r\n    .Comment_night{\r\n        position: absolute;\r\n        top: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow-x: hidden;\r\n        overflow-y: scroll;\r\n        background-color:#2B2B2B ;\r\n        color: white;\r\n    }\r\n    .title_night{\r\n        position: fixed;\r\n        top: 0;\r\n        width: 100%;\r\n        height: 6rem;\r\n        font-size: 21px;\r\n        display: flex;\r\n        justify-content: center;\r\n        z-index: 1;\r\n        font-weight: bold;\r\n        background-color: #222225;\r\n    }\r\n    .song_singer_box_night{\r\n        display: flex;\r\n        align-items: center;\r\n        width: 100%;\r\n        height: 7.25rem;\r\n        background-color: #222225;\r\n\r\n    }\r\n\r\n    .title_small_night{\r\n        width: 100%;\r\n        height: 4rem;\r\n        display: flex;\r\n        align-items: center;\r\n        background-color: #222225;\r\n        margin-top: 1rem;\r\n    }\r\n    .title_small_night span{\r\n        margin-left: 1rem;\r\n        font-size: 18px;\r\n    }\r\n</style>\r\n\r\n\r\n\r\n","import { render } from \"./SongComment.vue?vue&type=template&id=4dc04c60&scoped=true\"\nimport script from \"./SongComment.vue?vue&type=script&lang=js\"\nexport * from \"./SongComment.vue?vue&type=script&lang=js\"\n\nimport \"./SongComment.vue?vue&type=style&index=0&id=4dc04c60&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-4dc04c60\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SongComment.vue?vue&type=style&index=0&id=4dc04c60&scoped=true&lang=css\""],"sourceRoot":""}