{"version":3,"sources":["webpack:///./src/views/home/SongComment.vue?6143","webpack:///./src/views/home/SongComment.vue","webpack:///./src/views/home/SongComment.vue?b4ef"],"names":["class","style","$store","state","theme","title","src","music_image","alt","music_name","music_singer","ref","comment_height","kk","Comment-data","music_comment","comment_key","push_user_comment","name","components","TitleHead","UserComment","Reply","Album_img","reply_content","Single_review","music_information","account_name","account_img","methods","console","log","this","h","document","documentElement","clientHeight","data","time","Date","unshift","user_image","user_name","user_time","user_comment","liked","id","$route","params","Promise","all","api_url","cookie","user_cookie","then","res","splice","length","comments","i","push","user","nickname","content","avatarUrl","profile","catch","err","songs","al","picUrl","ar","type","play_music_information","render","__scopeId"],"mappings":"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","file":"js/chunk-0ba352ab.1aca96f8.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SongComment.vue?vue&type=style&index=0&id=d1404a2a&scoped=true&lang=css\"","<template>\r\n    <div class=\"Comment\" :class=\"[$store.state.theme == 'night' ? 'Comment_night':'']\">\r\n        <div class=\"title\" :class=\"[$store.state.theme == 'night' ? 'title_night':'']\">\r\n            <TitleHead title=\"评论\"></TitleHead>\r\n        </div>\r\n        <div class=\"Placeholder\"></div>\r\n        <!--        歌曲信息-->\r\n        <div class=\"song_singer_box\" :class=\"[$store.state.theme == 'night' ? 'song_singer_box_night':'']\">\r\n            <img :src=\"music_image\" alt=\"\" class=\"Album_img\">\r\n            <div class=\"song_singer_span\">\r\n                <span class=\"song_name\">{{ music_name }}</span>\r\n                <span class=\"singer_name\">{{ music_singer }}</span>\r\n            </div>\r\n        </div>\r\n        <!--        评论-->\r\n        <div class=\"Comment_height\" ref=\"Comment_height\" :style=\"{height:comment_height}\">\r\n            <div class=\"title_small\" :class=\"[$store.state.theme == 'night' ? 'title_small_night':'']\">\r\n                <span @click=\"kk\">精彩评论</span>\r\n            </div>\r\n            <div style=\"width: 100%;height: 100%;overflow-y: auto\">\r\n                <UserComment :Comment-data=\"music_comment\"></UserComment>\r\n            </div>\r\n        </div>\r\n        <!--        回复-->\r\n        <div class=\"reply_box\">\r\n            <Reply :comment_key=\"comment_key\" @push_user_comment=\"push_user_comment\"></Reply>\r\n        </div>\r\n        <div class=\"Placeholder\" style=\"background-color: white\" v-if=\"$store.state.theme == 'white'\"></div>\r\n        <div class=\"Placeholder\" style=\"background-color: #222225\" v-if=\"$store.state.theme == 'night'\"></div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import UserComment from \"../../components/home/UserComment\";\r\n    import Reply from '../../components/Reply'\r\n    import ajax from '../../http/index'\r\n    import TitleHead from \"../../components/TitleHead\";\r\n    export default {\r\n        name: \"Comment\",\r\n        components: {TitleHead, UserComment,Reply},\r\n\r\n        data() {\r\n            return{\r\n                Album_img: '',\r\n                reply_content: '',\r\n                Single_review:[],\r\n                music_comment:[],\r\n                music_information:[],\r\n                music_image:'',\r\n                music_name:'',\r\n                music_singer:'',\r\n                comment_key:[],\r\n                account_name:'',\r\n                account_img:''\r\n                // comment_height:(document.documentElement.clientHeight - (7.25*16))\r\n            }\r\n        },\r\n        methods:{\r\n            kk(){\r\n                console.log(this.music_image )\r\n            },\r\n            touchmove(){\r\n                var h = document.documentElement.clientHeight\r\n                console.log(h)\r\n                // console.log(this.$refs.Comment_height.getBoundingClientRect().top)\r\n            },\r\n            //评论歌曲\r\n            push_user_comment(data){\r\n                let time = new Date();\r\n                this.music_comment.unshift({\r\n                    user_image:this.account_img,\r\n                    user_name:this.account_name,\r\n                    user_time:time,\r\n                    user_comment:data,\r\n                    liked:false\r\n\r\n                })\r\n            }\r\n        },\r\n        mounted() {\r\n            let id = this.$route.params.id\r\n\r\n            Promise.all([\r\n                ajax(this.$store.state.api_url+'comment/music?id='+id),\r\n                ajax(this.$store.state.api_url+'user/account', {cookie:this.$store.state.user_cookie})\r\n            ]).then((res)=>{\r\n\r\n                this.music_comment.splice(0,this.music_comment.length)\r\n                if (res[0].comments.length!=null){\r\n                    for (let i = 0; i<res[0].comments.length;i++){\r\n                        this.music_comment.push({\r\n                            user_name:res[0].comments[i].user.nickname,\r\n                            user_comment:res[0].comments[i].content,\r\n                            user_image:res[0].comments[i].user.avatarUrl,\r\n                            user_time:res[0].comments[i].time,\r\n                            liked:false\r\n                        })\r\n                    }\r\n                }\r\n\r\n\r\n                //用户详情\r\n                this.account_name = res[1].profile.nickname\r\n                this.account_img = res[1].profile.avatarUrl\r\n            }).catch((err)=>{\r\n                console.log(err);\r\n            })\r\n\r\n\r\n            // ajax(\r\n            //     // 'http://127.0.0.1:3000/comment/music?id='+id\r\n            //     this.$store.state.api_url+'comment/music?id='+id\r\n            // ).then((res)=>{\r\n            //     this.music_comment.splice(0,this.music_comment.length)\r\n            //     if (res.comments.length!=null){\r\n            //         for (let i = 0; i<res.comments.length;i++){\r\n            //             this.music_comment.push({\r\n            //                 user_name:res.comments[i].user.nickname,\r\n            //                 user_comment:res.comments[i].content,\r\n            //                 user_image:res.comments[i].user.avatarUrl,\r\n            //                 user_time:res.comments[i].time,\r\n            //                 liked:false\r\n            //             })\r\n            //         }\r\n            //     }\r\n            //\r\n            // }).catch((error)=>{\r\n            //     console.log(error)\r\n            // })\r\n            ajax(\r\n                this.$store.state.api_url+'song/detail?ids='+id\r\n            ).then((res)=>{\r\n                this.music_name  = res.songs[0].al.name\r\n                this.music_image = res.songs[0].al.picUrl\r\n                this.music_singer = res.songs[0].ar[0].name\r\n            }).catch((err)=>{\r\n                console.log(err);\r\n            })\r\n            this.comment_key = ({type:0,id:id})\r\n            this.music_information = this.$store.state.play_music_information\r\n            console.log(this.music_comment)\r\n        },\r\n        setup(){\r\n            const comment_height = document.documentElement.clientHeight - (10.25*16)+'px'\r\n            return{\r\n                comment_height\r\n            }\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .Comment{\r\n        position: absolute;\r\n        top: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow-x: hidden;\r\n        overflow-y: scroll;\r\n        background-color: #F8F8F8;\r\n    }\r\n    .Comment::-webkit-scrollbar{\r\n        display: none;\r\n    }\r\n    .title{\r\n        position: fixed;\r\n        top: 0;\r\n        width: 100%;\r\n        height: 6rem;\r\n        background-color: white;\r\n        font-size: 21px;\r\n        display: flex;\r\n        justify-content: center;\r\n        z-index: 1;\r\n        font-weight: bold;\r\n\r\n    }\r\n    .song_singer_box{\r\n        display: flex;\r\n        align-items: center;\r\n        width: 100%;\r\n        height: 7.25rem;\r\n        background-color: white;\r\n\r\n    }\r\n    .Album_img{\r\n        width: 3.5rem;\r\n        height: 3.5rem;\r\n        border-radius: 0.5rem;\r\n        margin-left: 1rem;\r\n        margin-right: 0.75rem;\r\n    }\r\n    .song_singer_span{\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n    }\r\n    .song_name{\r\n\r\n    }\r\n    .singer_name{\r\n        font-size: 13px;\r\n        margin-top: 0.5rem;\r\n    }\r\n    .title_small{\r\n        width: 100%;\r\n        height: 4rem;\r\n        display: flex;\r\n        align-items: center;\r\n        background-color: white;\r\n        margin-top: 1rem;\r\n    }\r\n    .title_small span{\r\n        margin-left: 1rem;\r\n        font-size: 18px;\r\n        font-weight: bold;\r\n    }\r\n    .user_comment_data{\r\n        width: 100%;\r\n        margin-bottom: 2rem;\r\n        border-bottom: 2px solid #f4f4f4;\r\n    }\r\n    .comment_user{\r\n        display: flex;\r\n        height: 2rem;\r\n        align-items: center;\r\n    }\r\n    .user_img{\r\n        width: 1.75rem;\r\n        height: 1.75rem;\r\n        border-radius: 1.75rem;\r\n        margin-left: 1rem;\r\n    }\r\n    .user_material{\r\n        display: flex;\r\n        flex-direction: column;\r\n        margin-left: 1rem;\r\n    }\r\n    .user_name{\r\n        font-size: 15px;\r\n    }\r\n    .response_time{\r\n        font-size: 10px;\r\n        color: darkgray;\r\n    }\r\n    .praised{\r\n        margin-left: 10rem;\r\n    }\r\n    .comment_content{\r\n        width: 16.5rem;\r\n        height: auto;\r\n        margin-top: 1rem;\r\n        margin-left: 3.75rem;\r\n    }\r\n    .comment_content p{\r\n        word-wrap: break-word;\r\n    }\r\n    .reply_box{\r\n        position: fixed;\r\n        left: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        height:4.75rem;\r\n        z-index: 1000;\r\n    }\r\n    .reply{\r\n        width: 100%;\r\n        height: 3.5rem;\r\n        background-color: white;\r\n        display: flex;\r\n        justify-content: space-evenly;\r\n        margin-top: 0.5rem;\r\n    }\r\n    .reply_content{\r\n        width: 14.5rem;\r\n        height: 1.75rem;\r\n        border-radius: 1rem;\r\n        font-size: 18px;\r\n        border: 1px solid black;\r\n    }\r\n    input:focus{\r\n        outline: none;\r\n        border-color: #409eff;\r\n    }\r\n    .send{\r\n        width: 3rem;\r\n        height: 1.75rem;\r\n        border-radius: 1rem;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n    .send span {\r\n\r\n    }\r\n    .Comment_height{\r\n        width: 100%;\r\n        /*height: 80%;*/\r\n        overflow-x: hidden;\r\n        overflow-y: scroll;\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n\r\n\r\n    .Comment_night{\r\n        position: absolute;\r\n        top: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow-x: hidden;\r\n        overflow-y: scroll;\r\n        background-color:#2B2B2B ;\r\n        color: white;\r\n    }\r\n    .title_night{\r\n        position: fixed;\r\n        top: 0;\r\n        width: 100%;\r\n        height: 6rem;\r\n        font-size: 21px;\r\n        display: flex;\r\n        justify-content: center;\r\n        z-index: 1;\r\n        font-weight: bold;\r\n        background-color: #222225;\r\n    }\r\n    .song_singer_box_night{\r\n        display: flex;\r\n        align-items: center;\r\n        width: 100%;\r\n        height: 7.25rem;\r\n        background-color: #222225;\r\n\r\n    }\r\n\r\n    .title_small_night{\r\n        width: 100%;\r\n        height: 4rem;\r\n        display: flex;\r\n        align-items: center;\r\n        background-color: #222225;\r\n        margin-top: 1rem;\r\n    }\r\n    .title_small_night span{\r\n        margin-left: 1rem;\r\n        font-size: 18px;\r\n        font-weight: bold;\r\n    }\r\n</style>\r\n\r\n\r\n\r\n","import { render } from \"./SongComment.vue?vue&type=template&id=d1404a2a&scoped=true\"\nimport script from \"./SongComment.vue?vue&type=script&lang=js\"\nexport * from \"./SongComment.vue?vue&type=script&lang=js\"\n\nimport \"./SongComment.vue?vue&type=style&index=0&id=d1404a2a&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-d1404a2a\"\n\nexport default script"],"sourceRoot":""}