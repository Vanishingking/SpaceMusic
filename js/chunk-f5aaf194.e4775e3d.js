(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f5aaf194"],{2466:function(e,t,o){"use strict";var i=o("7a23");const a=Object(i["withScopeId"])("data-v-a7736e84");Object(i["pushScopeId"])("data-v-a7736e84");const c={key:0,class:"video_img"},r={xmlns:"http://www.w3.org/2000/svg",width:"18.002",height:"22.501",viewBox:"0 0 18.002 22.501"},l=Object(i["createVNode"])("path",{id:"Icon_ionic-ios-play","data-name":"Icon ionic-ios-play",d:"M9,7.334V28.666a.549.549,0,0,0,.823.506l16.91-10.666a.6.6,0,0,0,0-1.005L9.823,6.834A.544.544,0,0,0,9,7.334Z",transform:"translate(-9 -6.751)",fill:"#fff"},null,-1),s={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"22.5",viewBox:"0 0 18 22.5"},n=Object(i["createVNode"])("g",{id:"Icon_ionic-ios-pause","data-name":"Icon ionic-ios-pause",transform:"translate(-9 -6.75)"},[Object(i["createVNode"])("path",{id:"路径_142","data-name":"路径 142",d:"M14.055,29.25H9.57A.566.566,0,0,1,9,28.688V7.313a.566.566,0,0,1,.57-.562h4.486a.566.566,0,0,1,.57.563V28.688A.566.566,0,0,1,14.055,29.25Z",fill:"#fff"}),Object(i["createVNode"])("path",{id:"路径_143","data-name":"路径 143",d:"M26.43,29.25H21.945a.566.566,0,0,1-.57-.562V7.313a.566.566,0,0,1,.57-.562H26.43a.566.566,0,0,1,.57.563V28.688A.566.566,0,0,1,26.43,29.25Z",fill:"#fff"})],-1),d={key:1,class:"buffer_ico"},h=Object(i["createVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48",class:"buffer_ico_svg"},[Object(i["createVNode"])("path",{d:"M24,4V8",fill:"none",stroke:"#FFFFFF","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"4"}),Object(i["createVNode"])("path",{d:"M34,6.679l-2,3.464",fill:"none",stroke:"#FFFFFF","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"4"}),Object(i["createVNode"])("path",{d:"M41.321,14l-3.464,2",fill:"none",stroke:"#FFFFFF","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"4"}),Object(i["createVNode"])("path",{d:"M44,24H40",fill:"none",stroke:"#FFFFFF","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"4"}),Object(i["createVNode"])("path",{d:"M41.321,34l-3.464-2",fill:"none",stroke:"#FFFFFF","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"4"}),Object(i["createVNode"])("path",{d:"M34,41.321l-2-3.464",fill:"none",stroke:"#FFFFFF","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"4"}),Object(i["createVNode"])("path",{d:"M24,44V40",fill:"none",stroke:"#FFFFFF","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"4"}),Object(i["createVNode"])("path",{d:"M14,41.321l2-3.464",fill:"none",stroke:"#FFFFFF","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"4"}),Object(i["createVNode"])("path",{d:"M6.679,34l3.464-2",fill:"none",stroke:"#FFFFFF","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"4"}),Object(i["createVNode"])("path",{d:"M4,24H8",fill:"none",stroke:"#FFFFFF","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"4"}),Object(i["createVNode"])("path",{d:"M6.679,14l3.464,2",fill:"none",stroke:"#FFFFFF","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"4"}),Object(i["createVNode"])("path",{d:"M14,6.679l2,3.464",fill:"none",stroke:"#FFFFFF","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"4"})],-1),v={class:"kzq"},u={xmlns:"http://www.w3.org/2000/svg",width:"18.002",height:"22.501",viewBox:"0 0 18.002 22.501"},_=Object(i["createVNode"])("path",{id:"Icon_ionic-ios-play","data-name":"Icon ionic-ios-play",d:"M9,7.334V28.666a.549.549,0,0,0,.823.506l16.91-10.666a.6.6,0,0,0,0-1.005L9.823,6.834A.544.544,0,0,0,9,7.334Z",transform:"translate(-9 -6.751)",fill:"#fff"},null,-1),m={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"22.5",viewBox:"0 0 18 22.5"},p=Object(i["createVNode"])("g",{id:"Icon_ionic-ios-pause","data-name":"Icon ionic-ios-pause",transform:"translate(-9 -6.75)"},[Object(i["createVNode"])("path",{id:"路径_142","data-name":"路径 142",d:"M14.055,29.25H9.57A.566.566,0,0,1,9,28.688V7.313a.566.566,0,0,1,.57-.562h4.486a.566.566,0,0,1,.57.563V28.688A.566.566,0,0,1,14.055,29.25Z",fill:"#fff"}),Object(i["createVNode"])("path",{id:"路径_143","data-name":"路径 143",d:"M26.43,29.25H21.945a.566.566,0,0,1-.57-.562V7.313a.566.566,0,0,1,.57-.562H26.43a.566.566,0,0,1,.57.563V28.688A.566.566,0,0,1,26.43,29.25Z",fill:"#fff"})],-1),b={class:"mv_progress"},f={style:{"margin-left":"0.5rem"}},g=Object(i["createVNode"])("span",null,"/",-1),j=Object(i["createVNode"])("path",{id:"Icon_ionic-ios-resize","data-name":"Icon ionic-ios-resize",d:"M29.412,5.625h-7.77a.965.965,0,0,0-.963.963V6.6a.965.965,0,0,0,.963.963h5.379L7.566,27.021V21.642a.965.965,0,0,0-.963-.963H6.588a.965.965,0,0,0-.963.963v7.77a.965.965,0,0,0,.963.963h7.77a.965.965,0,0,0,.963-.963V29.4a.965.965,0,0,0-.963-.963H8.979L28.434,8.979v5.379a.965.965,0,0,0,.963.963h.014a.965.965,0,0,0,.963-.963V6.588A.96.96,0,0,0,29.412,5.625Z",transform:"translate(30.375 -5.625) rotate(90)",fill:"#fff"},null,-1),O={key:0,class:"video_kzq"},V=Object(i["createVNode"])("div",{class:"custom-button"},null,-1),k={style:{width:"100%",display:"flex","justify-content":"center"}},w={key:0,class:"video_kzq_two"},F=Object(i["createVNode"])("div",{class:"custom-button-two"},null,-1),y={key:2,class:"mv_cs"},N={class:"kzq_menu_box"},B=Object(i["createVNode"])("div",{class:"kzq_menu_box_bag"},null,-1),x={class:"kzq_menu"},D={class:"kzq_menu_back"},T=Object(i["createVNode"])("path",{id:"路径_1","data-name":"路径 1",d:"M151.928,267.871,140.448,256.5c-.017-.017-.039-.022-.057-.037s-.005-.01-.009-.014a1.042,1.042,0,0,0-1.471.006L127.537,267.93a1.039,1.039,0,1,0,1.476,1.464l10.65-10.747,10.8,10.7a1.039,1.039,0,1,0,1.464-1.476Z",transform:"translate(-127.236 -256.144)",fill:"#fff"},null,-1),M=Object(i["createVNode"])("div",{class:"kzq_menu_video_name"},null,-1),S={xmlns:"http://www.w3.org/2000/svg",width:"18.002",height:"22.501",viewBox:"0 0 18.002 22.501"},C=Object(i["createVNode"])("path",{id:"Icon_ionic-ios-play","data-name":"Icon ionic-ios-play",d:"M9,7.334V28.666a.549.549,0,0,0,.823.506l16.91-10.666a.6.6,0,0,0,0-1.005L9.823,6.834A.544.544,0,0,0,9,7.334Z",transform:"translate(-9 -6.751)",fill:"#fff"},null,-1),I={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"22.5",viewBox:"0 0 18 22.5"},P=Object(i["createVNode"])("g",{id:"Icon_ionic-ios-pause","data-name":"Icon ionic-ios-pause",transform:"translate(-9 -6.75)"},[Object(i["createVNode"])("path",{id:"路径_142","data-name":"路径 142",d:"M14.055,29.25H9.57A.566.566,0,0,1,9,28.688V7.313a.566.566,0,0,1,.57-.562h4.486a.566.566,0,0,1,.57.563V28.688A.566.566,0,0,1,14.055,29.25Z",fill:"#fff"}),Object(i["createVNode"])("path",{id:"路径_143","data-name":"路径 143",d:"M26.43,29.25H21.945a.566.566,0,0,1-.57-.562V7.313a.566.566,0,0,1,.57-.562H26.43a.566.566,0,0,1,.57.563V28.688A.566.566,0,0,1,26.43,29.25Z",fill:"#fff"})],-1),z={class:"kzq_menu_box",style:{left:"0"}},$=Object(i["createVNode"])("div",{class:"kzq_menu_box_bag"},null,-1),H={class:"kzq_menu"},q={class:"kzq_slider_time"},A={style:{"margin-left":"0.5rem","margin-right":"0.5rem",color:"white"}},L={style:{height:"80%"}},Z=Object(i["createVNode"])("div",{class:"custom-button"},null,-1),E={style:{"margin-left":"0.5rem","margin-right":"0.5rem",color:"white"}},W={class:"kzq_full_screen"},U=Object(i["createVNode"])("path",{id:"Icon_ionic-ios-resize","data-name":"Icon ionic-ios-resize",d:"M29.412,5.625h-7.77a.965.965,0,0,0-.963.963V6.6a.965.965,0,0,0,.963.963h5.379L7.566,27.021V21.642a.965.965,0,0,0-.963-.963H6.588a.965.965,0,0,0-.963.963v7.77a.965.965,0,0,0,.963.963h7.77a.965.965,0,0,0,.963-.963V29.4a.965.965,0,0,0-.963-.963H8.979L28.434,8.979v5.379a.965.965,0,0,0,.963.963h.014a.965.965,0,0,0,.963-.963V6.588A.96.96,0,0,0,29.412,5.625Z",transform:"translate(30.375 -5.625) rotate(90)",fill:"#fff"},null,-1);Object(i["popScopeId"])();const J=a((e,t,o,J,G,K)=>{const Q=Object(i["resolveComponent"])("van-slider");return null!=o.VideoData?(Object(i["openBlock"])(),Object(i["createBlock"])("div",{key:0,class:["mv",[o.full_screen?"mv_fill_screen":"mv"]]},[G.buffer_cover?(Object(i["openBlock"])(),Object(i["createBlock"])("div",c,[Object(i["createVNode"])("img",{src:o.VideoData.video_image},null,8,["src"]),G.buffer?(Object(i["openBlock"])(),Object(i["createBlock"])("div",{key:0,class:"play_btn_box2",onClick:t[1]||(t[1]=e=>K.get_video_url(o.VideoData.video_id))},[Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createBlock"])("svg",r,[l],512)),[[i["vShow"],!G.video.playing]]),Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createBlock"])("svg",s,[n],512)),[[i["vShow"],G.video.playing]])])):Object(i["createCommentVNode"])("",!0),G.buffer?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createBlock"])("div",d,[h]))])):Object(i["createCommentVNode"])("",!0),""!=G.video_url?(Object(i["openBlock"])(),Object(i["createBlock"])("div",{key:1,class:[o.full_screen?"video_picture_box_screen":"video_picture_box"],style:{width:o.full_screen?G.fs_video_width+"px":"",height:o.full_screen?G.fs_video_height+"px":""}},[null!=G.video_url?(Object(i["openBlock"])(),Object(i["createBlock"])("video",{key:0,ref:"video",onClick:t[2]||(t[2]=(...e)=>K.iSselect&&K.iSselect(...e)),class:"videos",poster:o.VideoData.video_image,onPlay:t[3]||(t[3]=(...e)=>K.onPlay&&K.onPlay(...e)),onError:t[4]||(t[4]=(...e)=>K.onError&&K.onError(...e)),onWaiting:t[5]||(t[5]=(...e)=>K.onWaiting&&K.onWaiting(...e)),onPause:t[6]||(t[6]=(...e)=>K.onPause&&K.onPause(...e)),onTimeupdate:t[7]||(t[7]=(...e)=>K.onTimeupdate&&K.onTimeupdate(...e)),onLoadedmetadata:t[8]||(t[8]=(...e)=>K.onLoadedmetadata&&K.onLoadedmetadata(...e))},[Object(i["createVNode"])("source",{src:G.video_url},null,8,["src"])],40,["poster"])):Object(i["createCommentVNode"])("",!0)],6)):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createVNode"])("div",v,[Object(i["createVNode"])("div",{class:"play_btn_box",onClick:t[9]||(t[9]=(...e)=>K.startPlayOrPause&&K.startPlayOrPause(...e))},[Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createBlock"])("svg",u,[_],512)),[[i["vShow"],!G.video.playing]]),Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createBlock"])("svg",m,[p],512)),[[i["vShow"],G.video.playing]])]),Object(i["createVNode"])("div",b,[Object(i["createVNode"])("span",f,Object(i["toDisplayString"])(G.real_time),1),g,Object(i["createVNode"])("span",null,Object(i["toDisplayString"])(G.TotalDuration),1),(Object(i["openBlock"])(),Object(i["createBlock"])("svg",{onClick:t[10]||(t[10]=(...e)=>K.Full_Screen&&K.Full_Screen(...e)),xmlns:"http://www.w3.org/2000/svg",width:"1.25rem",height:"1.25rem",viewBox:"0 0 24.75 24.75"},[j]))]),G.buffer_cover?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createBlock"])("div",O,[Object(i["createVNode"])(Q,{modelValue:G.video.sliderTime,"onUpdate:modelValue":t[11]||(t[11]=e=>G.video.sliderTime=e),"active-color":"#409eff",onChange:K.changeCurrentTime},{button:a(()=>[V]),_:1},8,["modelValue","onChange"])])),Object(i["createVNode"])("div",{class:"mv_progress_kzq",onClick:t[12]||(t[12]=(...e)=>K.iSselect&&K.iSselect(...e))})],512),[[i["vShow"],!G.video_show&&!o.full_screen]]),Object(i["createVNode"])("div",k,[G.buffer_cover_two?(Object(i["openBlock"])(),Object(i["createBlock"])("div",w,[Object(i["createVNode"])(Q,{modelValue:G.video.sliderTime,"onUpdate:modelValue":t[13]||(t[13]=e=>G.video.sliderTime=e),"active-color":"#409eff"},{button:a(()=>[F]),_:1},8,["modelValue"])])):Object(i["createCommentVNode"])("",!0)]),!G.video_show&&o.full_screen?(Object(i["openBlock"])(),Object(i["createBlock"])("div",y,[Object(i["createVNode"])("div",N,[B,Object(i["createVNode"])("div",x,[Object(i["createVNode"])("div",D,[(Object(i["openBlock"])(),Object(i["createBlock"])("svg",{onClick:t[14]||(t[14]=(...e)=>K.Full_Screen&&K.Full_Screen(...e)),xmlns:"http://www.w3.org/2000/svg",width:"25",height:"13.557",viewBox:"0 0 25 13.557"},[T]))]),M])]),Object(i["createVNode"])("div",{class:"play_btn_box_fs",onClick:t[15]||(t[15]=(...e)=>K.startPlayOrPause&&K.startPlayOrPause(...e))},[Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createBlock"])("svg",S,[C],512)),[[i["vShow"],!G.video.playing]]),Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createBlock"])("svg",I,[P],512)),[[i["vShow"],G.video.playing]])]),Object(i["createVNode"])("div",z,[$,Object(i["createVNode"])("div",H,[Object(i["createVNode"])("div",q,[Object(i["createVNode"])("span",A,Object(i["toDisplayString"])(G.real_time),1),Object(i["createVNode"])("div",L,[Object(i["createVNode"])(Q,{modelValue:G.video.sliderTime,"onUpdate:modelValue":t[16]||(t[16]=e=>G.video.sliderTime=e),"active-color":"#409eff",onChange:K.changeCurrentTime,vertical:""},{button:a(()=>[Z]),_:1},8,["modelValue","onChange"])]),Object(i["createVNode"])("span",E,Object(i["toDisplayString"])(G.TotalDuration),1)]),Object(i["createVNode"])("div",W,[(Object(i["openBlock"])(),Object(i["createBlock"])("svg",{onClick:t[17]||(t[17]=(...e)=>K.Full_Screen&&K.Full_Screen(...e)),xmlns:"http://www.w3.org/2000/svg",width:"1.25rem",height:"1.25rem",viewBox:"0 0 24.75 24.75"},[U]))])])]),Object(i["createVNode"])("div",{class:"mv_progress_kzq",onClick:t[18]||(t[18]=(...e)=>K.iSselect&&K.iSselect(...e))})])):Object(i["createCommentVNode"])("",!0)],2)):Object(i["createCommentVNode"])("",!0)});var G=o("db04"),K=o("bc3a"),Q=o.n(K);function R(e){var t,o;return e/60<10?(t=Math.floor(e/60%60),e%60<10?(o=Math.floor(e%60),e="0"+t+":0"+o):(o=Math.floor(e%60),e="0"+t+":"+o)):(t=Math.floor(e/60%60),e%60<10?(o=Math.floor(e%60),e=t+":0"+o):(o=Math.floor(e%60),e=t+":"+o)),e}function X(e){var t=typeof e;if("number"===t||"string"===t){e=parseInt(e);var o=Math.floor(e/3600);e-=3600*o;var i=Math.floor(e/60);return e-=60*i,o+":"+("0"+i).slice(-2)+":"+("0"+e).slice(-2)}return"0:00:00"}var Y={name:"VideoPlay",props:{VideoData:{type:Object,default:function(){return{}}},full_screen:Boolean},data(){return{video_show:!1,TotalDuration:"00:00",video:{currentTime:0,maxTime:0,playing:!1,muted:!1,speed:1,waiting:!0,preload:"auto"},video_url:"",buffer:!0,buffer_cover:!0,real_time:"00:00",video_full_screen:!1,fs_video_height:document.documentElement.clientWidth,fs_video_width:document.documentElement.clientHeight,buffer_cover_two:!1}},methods:{get_video_url(e){console.log(this.VideoData);let t={type:"video",id:this.VideoData.video_id,video_name:this.VideoData.video_name,video_singer:this.VideoData.artists_name,video_image:this.VideoData.video_image,video_play_time:""};this.$store.commit("push_recently_played_local_data",t),void 0!=this.$store.state.user_cookie&&Q.a.post("http://localhost:3001/playedVideo",{id:this.$store.state.my_user_id,type:"video",video_id:t.id,video_name:t.video_name,video_singer:t.video_singer,video_image:t.video_image,video_play_time:""}).then(e=>{console.log(e)}).catch(e=>{console.log(e)}),Object(G["a"])(this.$store.state.api_url+"mv/url?id="+e).then(e=>{console.log(e),this.video_url=e.data.url}).catch(t=>{console.log(t),Object(G["a"])(this.$store.state.api_url+"video/url?id="+e).then(e=>{console.log(e),this.video_url=e.urls[0].url}).catch(e=>{console.log(e)})}),this.buffer=!1,setTimeout(()=>{""!=this.video_url&&(this.buffer_cover=!1),this.video.playing=!0,this.$refs.video.play()},800)},iSselect(){return this.video_show=!this.video_show,this.buffer_cover_two?this.buffer_cover_two=!1:this.buffer_cover_two=!0,this.video_show},formatProcessToolTip(e=0){return e=parseInt(this.video.maxTime/100*e),X(e)},changeCurrentTime(e){this.$refs.video.currentTime=parseInt(this.video.maxTime/100*e)},startPlayOrPause(){return this.video.playing?this.pausePlay():this.startPlay()},startPlay(){this.VideoData.video_id.length<20?Object(G["a"])(this.$store.state.api_url+"mv/url?id="+this.VideoData.video_id).then(e=>{console.log(e),this.video_url=e.data.url}).catch(e=>{console.log(e)}):Object(G["a"])(this.$store.state.api_url+"video/url?id="+this.VideoData.video_id).then(e=>{console.log(e),this.video_url=e.urls[0].url}).catch(e=>{console.log(e)}),this.video.playing=!0,this.$refs.video.play();let e={type:"video",id:this.VideoData.video_id,video_name:this.VideoData.video_name,video_singer:this.VideoData.artists_name,video_image:this.VideoData.video_image,video_play_time:""};this.$store.commit("push_recently_played_local_data",e),void 0!=this.$store.state.user_cookie&&Q.a.post("http://localhost:3001/playedVideo",{id:this.$store.state.my_user_id,type:"video",video_id:e.id,video_name:e.video_name,video_singer:e.video_singer,video_image:e.video_image,video_play_time:""}).then(e=>{console.log(e)}).catch(e=>{console.log(e)})},pausePlay(){this.video.playing=!1,this.$refs.video.pause()},onPlay(e){console.log(e),this.video.playing=!0,this.video.loading=!1;let t=e.target,o=document.getElementsByTagName("video");[...o].forEach(e=>{e!==t&&e.pause()})},onPause(){this.video.playing=!1},onError(){this.video.waiting=!0},onWaiting(e){console.log(e)},onTimeupdate(e){this.video.currentTime=e.target.currentTime,this.video.sliderTime=parseInt(this.video.currentTime/this.video.maxTime*100),this.real_time=R(this.video.sliderTime)},onLoadedmetadata(e){console.log(e),this.video.waiting=!1,this.video.maxTime=e.target.duration,this.TotalDuration=R(parseInt(e.target.duration))},Full_Screen(){this.$emit("Full_Screen")}},mounted(){this.VideoData.video_id.length<20?Object(G["a"])(this.$store.state.api_url+"mv/url?id="+this.VideoData.video_id).then(e=>{console.log(e),this.$refs.video.src=e.data.url}).catch(e=>{console.log(e)}):Object(G["a"])(this.$store.state.api_url+"video/url?id="+this.VideoData.video_id).then(e=>{console.log(e),this.$refs.video.src=e.urls[0].url}).catch(e=>{console.log(e)})}};o("c56d");Y.render=J,Y.__scopeId="data-v-a7736e84";t["a"]=Y},"9ebe":function(e,t,o){},c56d:function(e,t,o){"use strict";o("9ebe")}}]);
//# sourceMappingURL=chunk-f5aaf194.e4775e3d.js.map